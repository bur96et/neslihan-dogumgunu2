<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Eda'ya Sürpriz ♥</title>
<style>
  html,body{height:100%;margin:0;font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
  body{background:linear-gradient(180deg,#111 0%, #210 100%); overflow:hidden; display:flex; align-items:center; justify-content:center;}
  .message{
    position:relative;
    z-index:50;
    text-align:center;
    color:#fff;
    user-select:none;
    padding:1rem 2rem;
    border-radius:12px;
    backdrop-filter: blur(4px);
  }
  .message h1{
    margin:0;
    font-size: clamp(28px, 6vw, 56px);
    letter-spacing:1px;
    text-shadow: 0 6px 18px rgba(0,0,0,.6);
    transform: translateY(20px);
    opacity:0;
    transition: all 600ms cubic-bezier(.2,.9,.3,1);
  }
  .message.show h1{
    transform: translateY(0);
    opacity:1;
  }
  .subtitle{
    margin-top:.6rem;
    opacity:0;
    transform: translateY(10px);
    transition: all 600ms 120ms cubic-bezier(.2,.9,.3,1);
  }
  .message.show .subtitle{ opacity:0.9; transform:none; }

  /* hearts container covers whole screen and sits under message visually? set high z for hearts if needed */
  .hearts {
    position: fixed;
    left:0; top:0; width:100%; height:100%;
    pointer-events:none;
    overflow:visible;
    z-index:40;
  }

  .heart {
    position: absolute;
    font-size: 22px;
    will-change: transform, opacity;
    animation: floatUp var(--dur) linear forwards;
    filter: drop-shadow(0 6px 12px rgba(0,0,0,.35));
    transform-origin: center;
    opacity: 0;
  }

  @keyframes floatUp {
    0%{ transform: translateY(0) scale(0.6) rotate(0deg); opacity:0; }
    10%{ opacity:1; }
    100%{ transform: translateY(-110vh) scale(1.1) rotate(25deg); opacity:0; }
  }

  /* small bounce prompt on load before triggered */
  .tap-hint{
    position:fixed;
    bottom:30px;
    left:50%;
    transform:translateX(-50%);
    color:rgba(255,255,255,0.9);
    z-index:60;
    font-size:14px;
    background:rgba(0,0,0,0.25);
    padding:8px 12px;
    border-radius:999px;
    backdrop-filter: blur(4px);
  }

  /* optional click area full screen so tapping triggers on mobile easily */
  .click-area{ position:fixed; left:0; top:0; width:100%; height:100%; z-index:45; }
</style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="message" id="msg">
    <h1 id="mainText">Eda I LOVE YOU</h1>
    <div class="subtitle">♥ Sürpriz için beni tıkladın/okuttun ♥</div>
  </div>

  <div class="click-area" id="clickArea" aria-hidden="true"></div>
  <div class="tap-hint" id="hint">Tıkla veya ekrana dokun — kalpler gelsin!</div>

<script>
(function(){
  const heartsContainer = document.getElementById('hearts');
  const msg = document.getElementById('msg');
  const hint = document.getElementById('hint');
  const clickArea = document.getElementById('clickArea');

  // Ayarlar
  const HEARTS_PER_BURST = 18;      // tek tetiklemede oluşan kalp sayısı
  const BURSTS = 3;                 // tek tetiklemede kaç dalga
  const BURST_INTERVAL = 220;       // dalgalar arası ms
  const COLORS = ['#ff4d6d','#ff7aa2','#ffa3c4','#ffd3e0','#ff6b9a'];

  // rastgele sayı
  function rnd(min,max){ return Math.random()*(max-min)+min; }

  // kalp üret
  function spawnHeart(xPercent){
    const el = document.createElement('div');
    el.className = 'heart';
    const size = Math.floor(rnd(20,48)); // px font-size
    el.style.fontSize = size + 'px';
    el.style.left = (xPercent)+'%';
    el.style.top = (rnd(30,80))+'%'; // başlangıç alt konum
    el.style.opacity = 0;
    el.style.setProperty('--dur', (rnd(2400,4200)) + 'ms');
    // rastgele renk ve rotation
    el.style.color = COLORS[Math.floor(rnd(0,COLORS.length))];
    el.textContent = '❤';
    heartsContainer.appendChild(el);

    // küçük giriş animasyonu (opacity göster)
    requestAnimationFrame(()=> {
      el.style.opacity = 1;
    });

    // temizle
    setTimeout(()=> { 
      el.remove();
    }, 5000);
  }

  // bütün patlamayı yap
  function burst(xPercent){
    for(let i=0;i<HEARTS_PER_BURST;i++){
      // dağılım: xPercent +/- 12%
      const offset = rnd(-12,12);
      spawnHeart(Math.min(95, Math.max(2, xPercent + offset)));
    }
  }

  // tetikle (sayfa açıldığında veya tıklayınca)
  let triggered = false;
  function triggerAll(xPercent = 50){
    if(triggered) return; // bir kez tetiklensin istersen bunu değiştir
    triggered = true;
    hint.style.display = 'none';
    msg.classList.add('show');

    // birden fazla burst
    for(let b=0;b<BURSTS;b++){
      setTimeout(()=> burst(xPercent), b*BURST_INTERVAL);
    }

    // artan küçük patlamalar
    let extra = 0;
    const extraInterval = setInterval(()=>{
      burst(rnd(30,70));
      extra++;
      if(extra>4) clearInterval(extraInterval);
    }, 700);
  }

  // otomatik tetikle: sayfa açılışında 600ms sonra çalışsın (QR ile gelirken otomatik olsun)
  window.addEventListener('load', ()=>{
    setTimeout(()=> triggerAll(50), 600);
    // ama mobilde tarayıcı engellerse kullanıcı etkileşimi bekle
  });

  // tıklama / dokunma yakalama (her kullanıcı etkileşimi tetiklesin)
  clickArea.addEventListener('click', (e)=>{
    const x = e.clientX || window.innerWidth/2;
    const xPercent = (x / window.innerWidth) * 100;
    triggerAll(xPercent);
  }, {passive:true});

  // aynı şeyi dokunmada da çalıştır
  clickArea.addEventListener('touchstart', (e)=>{
    const touch = e.touches[0];
    const xPercent = (touch.clientX / window.innerWidth) * 100;
    triggerAll(xPercent);
  }, {passive:true});

  // eğer kullanıcı fareyle tıklarsa da güzel bir burst
  document.addEventListener('click', (e)=>{
    if(!triggered){
      const xPercent = (e.clientX / window.innerWidth) * 100;
      triggerAll(xPercent);
    }
  });

})();
</script>
</body>
</html>

